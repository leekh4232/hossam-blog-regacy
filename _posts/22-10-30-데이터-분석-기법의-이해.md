---
layout: post
title:  "데이터 분석 기법의 이해"
date:   2022-10-30
banner_image: 2022/1030/index.jpg
tags: [데이터분석]
---

R, Python 등을 기반으로 데이터 분석 수업을 진행할 때 첫 시간에 소개하던 데이터 분석 기법 개요에 관한 요약글 입니다.

<!--more-->

## 학습목표

- 통계학의 정의와 역할을 설명할 수 있다.
- 데이터에서 변수와 단위를 찾아낼 수 있다.
- 모집단, 표본, 모수, 통계량의 개념을 설명할 수 있다.
- 데이터 분석 기법의 종류를 구분하고 설명할 수 있다.

## #01. 통계학이란

### 1. 데이터

> 세상을 이해하는 창

어떤 현상을 이해하기 위해 그 현상을 관찰하여 데이터를 수집

전통적인 데이터 수집 방법 -> 관찰, 설문조사, 실험등

### 2. 데이터 폭발(Data explosion)

컴퓨터와 정보통신 기술의 발달로 매일 방대한 양의 데이터가 생산됨

> 뉴욕타임즈가 하루에 싣는 정보의 양은 17세기 영국의 평범한 한 사람이 평생 소비 하는 정보의 양과 비슷하다<br/>(Wurman, S.A. (1987) "Information Anxiety" New York: Doubleday , p.32)

> 페이스북에서는 하루에 4페타 바이트의 정보가 생성된다<br/>(https://kinsta.com/blog/facebook-statistics/, Jan 3, 2021)

1페타바이트 = 1024테라바이트

### 3. 통계학

불확실한 현상을 이해하기 위해 데이터를 **수집**하고, 데이터 패턴을 **요약**, **분석**하여 불확실한 현상에 대한 결론을 찾는 학문

> 데이터에서 쓸모 있는 정보를 얻기 위한 별도의 과정

### 4. 통계학의 역할

#### 데이터 수집

알고 싶은 현상을 왜곡되지 않게, 잘 반영하는 데이터를 수집하기 위해 통계적 원리를 사용

##### 예시: 선거 여론조사

> 대통령 선거를 앞두고 유권자의 지지성향을 조사하여 선거전략을 세우고자 한다. 전체 유권자의 연령별, 성별 분포를 고려하여 전체를 대표할 수 있는 일부 유권자를 뽑아 조사한다.

##### 예시: 임상시험

> 특정 감염병 예방을 위해 개발된 백신의 효과를 알아 보기 위해, 3만명의 자원자를 모집한 후 랜덤으로 두 그룹으로나누고, 한그룹은백신, 다른 그룹은 플라시보를 투여한다. 3개월 동안 추적 관찰하여 백신의 효과를 증명할 수 있는 데이터를 얻는다.

#### 데이터 요약

데이터가 가진 특징과 패턴을 정확하고 효과적으로 드러내기 위한 통계적 방법을 사용: `기술통계`

##### 예시: 소아의 몸무게

> 소아의 몸무게를 조사하여 나이별로 몸무게의 평균, 중간값, 사분위수 등 요약통계량을 구한다. 나이에 따른 몸무게의 변화를 보여주기 위해 그래프를 작성한다.

##### 예제: 미세먼지

> 지역별 미세먼지 농도를 수집하여 지도 위에 미세먼지 농도를 색깔로 표현한다.

#### 추론

데이터를 이용하여 우리의 관심 대상에 대해 추측하고 그 추측의 신뢰성을 계량화: `추측통계(추론통계)`

##### 예시: 평균연봉

> 대한민국 임금노동자의 평균 연봉을 알아내기 위해서 랜덤 표집한 300명의 연봉을 조사하여 평균 연봉 추정치와95% 신뢰구간을구한다.

##### 예시: 항암제 효과

> 새로 개발된 항암제의 효과를 알아보기 위하여 무작위 배정 임상시험에서 관측한 치료군과 대조군의 암재발률을 비교한다.

### 5. 데이터

하나 이상의 변수에 대한 관찰값의 모음

#### 데이터의 기본 요소

| 이름 | 설명 |
|---|---|
| 단위(Unit) | 관측되는 개별 대상
| 변수(variable) | 각 단위에 대해 관측되는 특성 |
| 관찰값(observation) | 각 단위로부터 관측한 특성의 값 |

##### 예시: 4명의 데이터

> 시연이는 여성이고 키161cm, 몸무게50kg이다.
> 이안이는 남성이고 키175cm, 몸무게73kg이다.
> 연하는 여성이고 키163cm, 몸무게55kg이다.
> 가현이는 여성이고 키171cm, 몸무게60kg이다.

| 이름 | 성별 | 키(cm) | 몸무게(kg) |
|---|---|---|---|
| 시연 | 여 | 161 | 50 |
| 이안 | 남 | 175 | 50 |
| 연하 | 여 | 163 | 55 |
| 가현 | 여 | 171 | 60

- 단위 : 시연이, 이안이, 연하, 가현이
- 변수 : 성별, 키, 몸무게

## #02. 통계학의 주요 개념

### 1. 모집단(population)

관심 대상이 되는 모든 개체의 모임

대부분의 경우 모집단은 너무 커서 모든 개체를 조사할 수 없다.

#### 모집단의 종류

| 종류 | 설명 |
|---|---|
| 유한모집단 | 개체 수가 유한개 |
| 무한모집단 | 개체 수가 무한개 |
     
### 2. 표본(sample)

모집단을 알기 위해 실제로 관측한 모집단의 일부

모집단을 잘 반영하는 표본을 뽑는 것은 매우 중요하다.

#### 단순랜덤표집(simplerandomsampling)

유한모집단에서 n개의 개체로 이루어진 가능한 모든 부분집합이 표본으로 선택될 확률이 같도록 설계된 표본 표집 방법

### 3. 모수(paramter)

모집단의 특성을 나타내는 대표값(평균)

값이 고정되어 있다.

대부분의 경우 값을 알 수 없다.

예외) 개체수가 적은 유한모집단인 경우 모든 개체를 조사하면 모수를 알아낼 수 있다.

### 4. 통계량(statistic)

표본의 특성을 나타내는 대표값

모수를 추정하기 위해 표본에서 얻은값

표본을 새로 뽑으면 통계량의 값이 달라진다

#### 예시: 주거비

대한민국의 1가구당 평균 주거비를 알아보려고 한다. 전국의 모든 가구의 주거비를 설문하는 것은 너무 많은 시간과 비용이 필요하므로, 랜덤으로 뽑은 1,000가구에 방문하여 주거비를 조사한다.

| 구분 | 내용 |
|---|---|
| 모집단 | 대한민국의 모든가구 |
| 표본 | 랜덤으로 뽑은 1000가구 |
| 모수 | 대한민국의 가구당 평균 주거비 |
| 통계량 | 표본 1000가구의 평균 주거비 |

## #03. 데이터 처리

### 1) 개요

- 통계에 기반
- 통계시작과 복잡한 가정이 상대적으로 적음
- 실용적 분야

| 용어 | 설명 |
|--- |---|
| legacy | 기업 업무에 필요한 기존 운영 시스템<br/>`예) 마케팅, 세일즈, ERP, CMS` |
| staging | 데이터를 가공 없이 로딩 하는 영역<br/>`예) 비정형 데이터` |
| ODS | 로딩된 데이터를 DW에 저장하기 전에 임시로 저장하는 영역<br/>`예) 비정형 —> 정형 데이터로 처리` | 
| 데이터웨어하우스(DW) | DW란 운영계 데이터를 사용자 관점에서 주제별로 통합하여, 별도의 장소에 저장해 놓은 통합 데이터베이스. |  |
|  데이터마트(DM) | 분석의 편의성을 높이고자, DW의 데이터를 주제별, 업무별로 요약하여 구성한 데이터 저장소.<br/>일반적으로 각 부서별로 다양한 예측과 분석을 목표로 만들어진다.<br/>`예) DataFrame` |

![데이터 처리](/images/posts/2022/1030/datawarehouse.png)

### 2) 활용

- 데이터웨어하우스(DW), 데이터마트(DM)를 통해 분석 데이터를 가져와 사용
- Legacy System이나 Staging Area에서 데이터를 가져와서 DW에서 가져온 내용과 결합하여 사용 가능하지만 보안에 취약한 방법이기 때문에 거의 이루어지지 않음
- 클린징 영역인 ODS(Operation Data Store)에서 데이터의 전처리를 해서 DW나 DM과 결합하여 사용하는 것이 이상적

### 3) 최종 데이터 구조로 가공

분류값과 입력 변수들을 연관시켜 인구통계, 요약변수, 파생변수 등을 산출

| 구분 | 설명 |
|---|---|
| 비정형 데이터 | DBMS에 저장됐다가 텍스트 마이닝을 거쳐 데이터 마트와 통합 |
| 관계형 데이터 | DBMS에 저장되어 사회 신경망분석을 거쳐 분석 결과 통계값이 마트와 통합되어 활용 |

### 4) 데이터 분석(=통계)

어떤 현상을 종합적으로 한눈에 알아보기 쉽게 일정한 체계에 따라 숫자와 표, 그림의 형태로 나타내는 것

- 특정집단을 대상으로 수행한 조사나 실험을 통해 나온 결과에 대한 요약된 형태의 표현
- 일기예보, 물가/ 실업률, 정당 지지도，의식조사와 사회조사 분석 통계，임상실험 등의 실험 결과 분석 통계
- 조사 또는 실험을 통해 데이터를 확보
- 조사대상에 따라 총조사 (census )와 표본조사로 구분

#### 데이터 분석 구분

|  | 탐색적 데이터 분석(EDA) | 확증적 데이터 분석(CDA) |
| --- | --- | --- |
| 활동 | **기술통계** | **추론통계** |
| 정의 | 데이터를 요약해 설명하는 기법 | 단순히 숫자를 요약하는 것을 넘어 어떤 값이 발생할 확률을 계산하는 통계 기법.<br/>모집단에서 샘플링한 표본을 가지고 모집단의 특성을 추론하고 그 결과가 신뢰성이 있는지 검정하는 것이다. |
| 예시 | 사람들이 받는 월급을 집계해 전체 월급 평균을 구한다. | 수집된 데이터에서 성별에 따라 월급에 차이가 있는 것으로 나타났을 때 이런 차이가 우연히 발생할 확률을 계산한다. |
| 과정 | 데이터 수집 > 시각화 탐색 > 패턴 도출 > 인사이트 발견 | 가설 설정 > 데이터 수집 > 통계 분석 > 가설검증 |

## #04. 탐색적 데이터 분석 (EDA)

### 1) 개요

- 다양한 차원과 값을 조합
- 특이한 점이나 의미있는 사실을 도출
- 분석의 최종 목적을 달성해가는 과정
- 데이터의 특징과 내재하는 구조적 관계를 알아내기 위한 기법들의 통칭
- 프린스톤 대학의 튜키교수가 1977년 발표한 저서에서 소개

### 2) 기술통계

- 모집단으로부터 표본을 추출하고 표본이 가지고 있는 정보를 쉽게 파악할 수 있도록 데이터를 정리하거나 요약하기 위해 하나의 숫자 또는 그래프의 형태로 표현하는 절차

### 3) 4대 주제

- 저항성의 강조
- 잔차 계산
- 자료변수의 재표현
- 그래프를 통한 현시성

### 4) 탐색적 데이터 분석의 과정

| 단계 | 주요 활동 |
|---|---|
| 데이터이해 단계 | 변수의 분포와 특성 파악 |
| 변수생성 단계 | 분석 목적에 맞도록 데이터 요약 및 파생변수 생성 |
| 변수선택 단계 | 목적변수에 의미있는 후보 변수 선택 |

## #05. 데이터 시각화

- 가장 낮은 수준의 분석이지만 때로는 복잡한 분석보다도 더 효율적
- 빅데이터에서 시각화는 필수
- 특히, 탐색적 분석의 결과를 요약하는데 효과적

## #06. 확증적 데이터 분석 (CDA)

### 1) 추론통계

- 모집단으로부터 추출된 표본의 표본통계량으로 부터 모집단의 특성인 모수에 관해 통계적으로 추론하는 절차

### 2) 활용분야

| 분야 | 예시 |
| --- | --- |
| 정부의 경제 정책 수립과 근거자료 | 실업률, 고용률, 물가지수 |
| 농업 | 가뭄,수해,병충해 등에 강한 품종 개발/개량 |
| 의학 | 임상실험 결과 분석 |
| 경영 | 제품 개발, 품질관리, 시장조사, 영업관리 등 |
| 스포츠 | 선수들의 체질향상 및 개선, 경기 분석, 전략 분석, 선수 평가/기용 등 |

## #07. 공간분석(GIS)

- 공간적 차원과 관련된 속성들을 시각화 하는 분석
- 지도 위에 관련 속성들을 생성
    - 크기
    - 모양
    - 선 굵기

## #08. 데이터마이닝(머신러닝)

### 1) 개요

- 대표적인 고급 데이터 분석법
- 대용량의 자료로부터 정보를 요약
- 미래에 대한 예측
- 관계, 패턴, 규칙 등을 탐색
- 모형화
- 유용한 지식을 추출

### 2) 방법론

#### 데이터베이스에서의 지식탐색

- 데이터웨어하우스에서 데이터마트를 생성
- 각 데이터들의 속성을 사전분석을 통해 지식을 얻음

#### 기계학습

- 컴퓨터가 학습할 수 있도록 알고리즘과 기술을 개발하는 분야
- 인공신경망, 의사결정나무, 클러스터링, 베이지안분류, SVM 등

#### 패턴인식

- 원자료를 이용해서 사전지식과 패턴에서 추출된 통계 정보를 기반으로 자료 또는 패턴을 분류
- 장바구니 분석, 연관규칙 등

### 3) 활용분야

| 분야 | 예시 |
| --- | --- |
| 데이터베이스 마케팅 | 방대한 고객의 행동정보를 활용<br/>`예) 목표 마케팅, 고객세분화, 장바구니 분석, 추천 시스템 등` |
| 신용평가 및 조기경보 시스템 | 신용카드 발급, 보험, 대출 업무 등 |
| 생물정보학 | 유전자 분석, 질병 진단, 치료법/신약 개발 |
| 텍스트마이닝 | 전자우편, SNS 등 디지털 텍스트 정보를 통한 고객 성향 분석, 감성 분석, 사회관계망 분석 등 |

## 학습정리

- 통계학이란 불확실한 현상을 이해하기 위해 데이터를 수집하고, 데이터 패턴을 요약, 분석하여 불확실한 현상에 대한 결론을 찾는 학문이다.
- 통계학의 역할에는 데이터의 수집, 데이터의 요약, 추론이있다.
- 데이터는 하나 이상의 변수에 대한 관찰값의 모음이다. 
- 데이터에서 관측되는 개별 대상을 단위라 하고, 각 단위에 대해 관측되는 특성은 변수라고 한다.
- 관심 대상이 되는 모든 개체의 모임을 모집단이라 하고, 모집단을 알기위해 실제로 관측한 모집단의 일부를 표본이라고 한다.
- 모집단을 잘 대표하는 표본을 표집하는 방법 중 가장 기본이 되는 방법은 단순랜덤표집이다.
- 모수는 우리가 알고싶은 모집단의 특성을 나타내는 대푯값이고, 모수를 알기 위해 표집한 표본의 특성을 나타내는 대푯값을 통계량이라고 한다