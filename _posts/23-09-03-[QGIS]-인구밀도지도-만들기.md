---
layout: post
title:  "[QGIS] (Lab02)-인구 밀도 지도 만들기"
date:   2023-09-03
banner_image: index-qgis.png
tags: [QGIS]
---

shape 파일을 사용하여 간단한 인구밀도 지도를 만들어 보겠습니다. 이 과정을 통해 QGIS의 사용법을 경험해 보겠습니다.

<!--more-->

# #01. 작업 준비

## 1. 프로젝트 생성 및 데이터 파일 배치

작업폴더 안에 `Lab02` 폴더를 생성하고 그 안에 수업시간에 배포되는 shape 파일들을 배치한다.

QGIS로 새로운 프로젝트를 생성하고 임의의 이름을 지정하여 `Lab02` 폴더에 저장한다.

![img](/images/posts/2023/0903/lab02-1.png)

## 2. 실습용 파일 설명

| 파일명 | 타입 | 설명 |
|---|---|
| CITYHALL | Point | 우리 나라 162 개 시/군의 시청/군청 위치자료가 포함된 파일 |
| HIGHWAY | Line | 전국 고속도로 및 국도 데이터 |
| SIDO | Polygon | 우리나라 광역시/도의 영역 데이터 |

# #02. 레이어 추가하기

## 1. 탐색기에서 레이어 추가

QGIS 에서 레이어를 추가하는 방법은 여러 가지가 있다. 가장 간단한 방법은, 탐색기 에서 원본 데이터를 더블클릭 하거나 레이어 패널에 드래그 앤 드롭(마우스로 끌어 놓기, window 탐색기에서도 가능)으로 추가하는 방식이다. 우리 나라 162 개 시/군의 시청/군청 위치자료가 포함된 `CITYHALL.shp`를 위 방식으로 추가해 본다.

![img](/images/posts/2023/0903/lab02-2.png)

## 2. 메뉴바를 통한 추가

메뉴바에서 `레이어 > 레이어 추가 > 백터 레이어 추가` 메뉴를 통해 추가하는 방식이다.

![img](/images/posts/2023/0903/lab02-3.png)

메뉴를 통해 레이어를 추가할 시에는 인코딩을 지정해 줄 수 있고, 여러 개의 파일을 한 번에 추가할 수도 있다.

![img](/images/posts/2023/0903/lab02-4.png)

## 3. 레이어 순서 조정

화면 좌측 하단의 레이어 창에 추가된 레이어들을 확인할 수 있다.

레이어를 드래그 앤 드롭하여 밑에서부터 `SIDO > HIGHWAY > CITYHALL` 순으로 조절한다.

![img](/images/posts/2023/0903/lab02-5.png)

## 4. 레이어 이름 바꾸기

현재의 레이어 이름은 영어로 되어있고, 직관적이지 않으므로, 작업의 편의를 위하여 레이어 이름을 변경해 본다.

"HIGHWAY"레이어를 우클릭하여 "속성" 메뉴를 선택한다.

![img](/images/posts/2023/0903/lab02-6.png)

레이어 속성 창이 열리면 왼쪽 메뉴에서 "원본"(Source) 항목을 선택한 상태에서 "레이어 이름"을 `고속도로`라고 입력하고 "OK" 버튼을 누른다.

![img](/images/posts/2023/0903/lab02-7.png)

같은 방식으로 `SIDO`를 "시도 경계"로, `CITYHALL`을 "시청 및 군청"으로 변경한다.

![img](/images/posts/2023/0903/lab02-8.png)

# #03. 속성 테이블

## 1. 속성 테이블 확인

GIS 파일은 각 도형의 모양이나 위치 뿐만 아니라, 각 하위 요소(피처, feature 혹은 객체) 들에 대한 정보를 ‘속성 테이블’이라고 불리는 표 형식의 데이터로 포함하고 있다.

“시도 경계” 레이어를 우클릭하고, ”속성 테이블 열기” 을 클릭하면(단축키 : F6) 선택된 레이어에 대한 속성 테이블이 열리게 된다. 해당 속성 테이블에는 행정안전부에서 부여한 시도 코드(SID_CD) 영문 이름, 국문 이름, 2015 년 인구, 면적(km2 )등의 정보가 구성되어 있다. 이들 각각을 “필드(Field)”라고 부른다.

![img](/images/posts/2023/0903/lab02-9.png)

## 2. GIS 파일의 인코딩 설정

속성 테이블의 한글 데이터가 아래와 같이 깨지는 경우는 GIS 파일의 인코딩 설정이 잘못된 경우이다.

![img](/images/posts/2023/0903/lab02-10.png)

이 경우에는 해당 레이어의 속성 창을 열고 왼쪽 메뉴에서 "원본"을 선택한 후 인코딩을 변경한다.

값이 `UTF-8`로 설정되어 있다면 이 값을 `EUC-KR`로 변경한다.

그 외의 값으로 설정되어 있다면 `UTF-8`로 설정한다.

인코딩을 변경하면 다시 "속성 테이블"을 열어서 한글이 정상적으로 표시되는지를 확인해 본다.

## 3. 특정 필드를 기준으로 데이터 정렬하기

각 필드명을 클릭하면, 필드 명을 기준으로 데이터가 오름차순 정렬되고, 한번 더 클릭하면 내림차순 정렬된다. 행정안전부에서 제시한 순서대로 데이터를 정렬하기 위하여 SID_CD 필드를 1 회 좌클릭 해본다.

![img](/images/posts/2023/0903/lab02-11.png)